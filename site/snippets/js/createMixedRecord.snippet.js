export default "// Create a mixed record\nasync function createMessage(username, messageText, imageFile) {\n  let base64Image = null;\n\n  if (imageFile) {\n    const binaryImage = await imageFile.arrayBuffer();\n    base64Image = btoa(\n      new Uint8Array(binaryImage).reduce(\n        (data, byte) => data + String.fromCharCode(byte),\n        '',\n      ),\n    );\n  }\n\n  const messageData = {\n    username,\n    message: messageText,\n    image: base64Image,\n  };\n\n  const { record } = await web5.dwn.records.create({\n    data: messageData,\n    message: {\n      schema: 'http://schema-registry.org/message',\n      dataFormat: 'application/json',\n    },\n  });\n  return record;\n}\n";